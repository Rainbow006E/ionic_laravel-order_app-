{"version":3,"sources":["../../src/pages/catalog/products/products.module.ts","../../src/pages/catalog/products/products.ts","../../src/pages/catalog/products/product_info.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProductsPage } from './products';\nimport { ProductInfo } from \"./product_info\";\nimport { TranslateModule } from '@ngx-translate/core';\nimport { EcurrencyPipeModule } from '../../../pipes/ecurrency.module';\n\n@NgModule({\n\tdeclarations: [\n\t\tProductsPage,\n    ProductInfo\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(ProductsPage),\n\t\tEcurrencyPipeModule,\n\t\tTranslateModule.forChild()\n\t]\n})\nexport class ProductsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/catalog/products/products.module.ts","import { Component } from '@angular/core';\nimport { APIService } from '../../../services/api_service';\nimport { CartService } from '../../../services/cart_service';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {ModalController, Alert, AlertController} from 'ionic-angular';\n\n/**\n * Products list page component\n */\n@IonicPage()\n@Component({\n    templateUrl: 'products.html'\n})\nexport class ProductsPage {\n    public products;\n    //public addons;\n    public initialProducts;\n    public category;\n    public searchQ = '';\n    public layout = 1;\n\n    constructor(\n        private nav: NavController,\n        private apiService: APIService,\n        private params: NavParams,\n        private cart: CartService,\n        private alertCtrl: AlertController\n    ) {\n      this.layout = this.apiService.getSettings().products_layout;\n        this.products = [];\n        this.category = params.get('category');\n        if (this.category == null) {\n            location.href = '/';\n        }\n    }\n    addonsList1:any=[];\n    addonsList2:any=[];\n    productsList:any=[];\n\n    ionViewWillEnter() {\n        if (this.category == null) {\n            return;\n        }\n        this.apiService.getProducts(this.category.id).then((response) => {\n            this.products = response.json();\n            this.initialProducts = response.json();\n            for (let i = 0; i < this.products.length; i++) {\n                this.products[i].added = this.cart.hasItem(this.products[i]);\n            }\n\n        });\n        this.apiService.getAddons1().subscribe(data => {\n            this.addonsList1 = data;\n            console.log('Addonssss1 : ', this.addonsList1);\n          }\n          );\n\n        this.apiService.getAddons2().subscribe(data => {\n            this.addonsList2 = data;\n            console.log('Addonssss2 : ', this.addonsList2);\n          }\n          );\n\n          this.apiService.getProductsNew().subscribe(data => {\n            this.productsList = data;\n            console.log('Addonssss3 : ', this.productsList);\n          }\n          );\n    }\n\n    onSearchInput($event) {\n        this.products = this.initialProducts.filter(p => {\n            return p.name.toLowerCase().indexOf(this.searchQ.toLowerCase()) >= 0;\n        });\n    }\n\n addToCart(product){\n          //console.log(\"work\" + product);\n          this.apiService.getProducts(this.category.id).then((response) => {\n            this.products = response.json();\n            this.initialProducts = response.json();\n            console.log(\"testing\", this.products);\n            //console.log(\"testing2\", product.addon_sets[0].name);\n            \n            this.cart.addItem(product, 1);\n            product.added = true;\n            //console.log(this.addonsList2)\n                for (let j = 0; j < product.addon_sets.length; j++) {\n                    \n                    \n                    if(product.addon_sets.length !== 0){\n                        let alert = this.alertCtrl.create();\n                        alert.present();\n                        alert.addButton({\n                            text: 'Done',\n                          \n                        })\n                        alert.setTitle('Choose add ons:');\n                        for (let k = 0; k < this.addonsList2.length; k++) {\n                            \n                            if (product.addon_sets[j].id==this.addonsList2[k].addon_set_id){\n                                console.log(\"ffs\", this.addonsList2[k].addon_set_id);\n                                alert.addInput({\n                                    type: 'checkbox',                \n                                    label: this.addonsList2[k].name,\n                                    value: this.addonsList2[k].name\n                                })\n\n                              \n                     \n                            }\n                         \n                        }\n                    }\n                }\n                                \n                \n            //this.products[i].added = this.cart.hasItem(this.products[i]);\n               // console.log(this.products);\n                //console.log(this.category.id);\n           \n\n         \n\n        });\n        \n      \n\n\n        \n    }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/catalog/products/products.ts","import { Component, Input } from '@angular/core';\n\n/**\n * Products info component, used in products list\n */\n@Component({\n  templateUrl: 'product_info.html',\n  selector: 'product-info'\n})\nexport class ProductInfo {\n  @Input() product: any;\n  @Input() descr: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/catalog/products/product_info.ts"],"sourceRoot":""}